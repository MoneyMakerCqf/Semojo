<div class="productPage">
  <el-row>
    <el-col :span="8" :offset="2">
      <div class="title">
      <h3>{{productName}}</h3>
      </div>
    </el-col>
  </el-row>
  <el-row>
    <el-col :span="20" :offset="2">
      <div>
        <el-tabs :tab-position="tabPosition" v-model="activeTab" style="height: 700px;" @tab-click="handleClick">
          <el-tab-pane label="Product Information" name="first">
            <el-col :span="8" :offset="8">
<!--            <h1 class="titleName">Product Information</h1>-->
<!--            <el-divider></el-divider>-->
              <el-table
                size="mini"
                :data="tableInformation"
                stripe
                border
                style="width: 100%">
                <el-table-column
                  prop="name"
                  label="Name"
                  align="right"
                  width="130">
                </el-table-column>
                <el-table-column
                  prop="value"
                  label="Value"
                  >
                </el-table-column>
              </el-table>
              <br/>
              <el-button type="success" size="mini" v-on:click="showEditPage" v-if="role == 2 || role == 3">
                Edit Product Information
              </el-button>
            </el-col>
          </el-tab-pane>
          <el-tab-pane label="Issues" name="issues"></el-tab-pane>
          <el-tab-pane label="Docker" name="docker" align="center">
            <div align="left" style="width: 80%">
              <h3>Choose an artifact</h3>
              <div v-for="arti in artifacts" >
                <el-radio v-model="radio" label="arti.id">{{arti.name}}</el-radio>
              </div>
              <br>
              <h3>Choose testcase to run</h3>
            </div>

            <div style="width: 80%">
              <el-table
                :data="tableData"
                max-height="300">
                <el-table-column
                  fixed
                  prop="testcase"
                  label="Testcase"
                  width="200">
                </el-table-column>
                <el-table-column
                  prop="describe"
                  label="Describe"
                  width="500">
                </el-table-column>

                <el-table-column
                  fixed="right"
                  label="operation"
                  width="200">
                  <template slot-scope="scope">
                    <el-button
                      @click="runtest(scope.$index, tableData)"
                      size="small"
                      type="primary"
                      style="font-size:16px">
                      run
                    </el-button>
                    <el-button
                      @click.native.prevent="deleteRow(scope.$index, tableData)"
                      type="text"
                      size="small"
                      style="font-size:16px">
                      delete
                    </el-button>
                  </template>
                </el-table-column>
              </el-table>
              <br>
              <el-button type="text" @click="addtestcase()" >Add testcase</el-button>
            </div>
          </el-tab-pane>
          <el-tab-pane label="Document" name="document"></el-tab-pane>
        </el-tabs>

        <el-dialog title="Add new testcase" :visible.sync="dialogResultVisible">
          <el-card class="box-card" align="left">
            <h3>Test result</h3>
            {{testresult}}
          </el-card>
        </el-dialog>
        <!--docker模块新增testcase-->
        <el-dialog title="Add new testcase" :visible.sync="dialogFormVisible">
          <el-form :model="ruleForm" :rules="rules" ref="ruleForm" label-width="100px" class="demo-ruleForm">
            <el-form-item label="Case name" prop="name">
              <el-input v-model="ruleForm.name"></el-input>
            </el-form-item>
            <el-form-item label="Description" prop="describe">
              <el-input v-model="ruleForm.describe"></el-input>
            </el-form-item>
          </el-form>
          <el-button type="text" @click="submitForm('ruleForm')">Add into table</el-button>
        </el-dialog>
        <!--更新产品信息-->
        <el-dialog title="Product Information" :visible.sync="productInfoVisible" width="30%">
          <el-form class="product" ref="form" :model="editProduct" size="mini">
            <el-form-item label="">
              <el-input v-model="editProduct.name" placeholder="Product Name">
                <template slot="prepend">Product Name</template>
              </el-input>
            </el-form-item>
            <el-form-item label="">
              <el-input v-model="editProduct.currentPrice" placeholder="Current Price">
                <template slot="prepend">Current Price</template>
              </el-input>
            </el-form-item>
            <el-form-item label="">
              <el-input v-model="editProduct.description" placeholder="Description">
                <template slot="prepend">Description</template>
              </el-input>
            </el-form-item>
            <el-form-item label="Contributor:">
              <el-checkbox-group v-model="editProduct.contributor">
                <el-checkbox-button label="ZHAO" name="ZHAO"></el-checkbox-button>
                <el-checkbox-button label="XU" name="XU"></el-checkbox-button>
                <el-checkbox-button label="ZHU" name="ZHU"></el-checkbox-button>
                <el-checkbox-button label="CHEN" name="CHEN"></el-checkbox-button>
              </el-checkbox-group>
            </el-form-item>
            <el-form-item label="Tags:">
              <el-checkbox-group v-model="editProduct.tags">
                <el-checkbox-button label="Java" name="Java"></el-checkbox-button>
                <el-checkbox-button label="Python" name="Python"></el-checkbox-button>
                <el-checkbox-button label="AI" name="AI"></el-checkbox-button>
                <el-checkbox-button label="Javascript" name="Javascript"></el-checkbox-button>
              </el-checkbox-group>
            </el-form-item>
            <el-form-item label="status">
              <el-select v-model="editProduct.status" placeholder="Please choose status">
                <el-option label="developing" value="developing"></el-option>
                <el-option label="alpha" value="alpha"></el-option>
                <el-option label="beta" value="beta"></el-option>
                <el-option label="final Version" value="finalVersion"></el-option>
                <el-option label="deprecated" value="deprecated"></el-option>
              </el-select>
            </el-form-item>
            <el-form-item size="large">
              <el-button type="primary" @click="updateInfo">Save</el-button>
              <el-button type="info" @click="cancel">Cancel</el-button>
            </el-form-item>
          </el-form>
        </el-dialog>
      </div>

    </el-col>
  </el-row>
</div>

